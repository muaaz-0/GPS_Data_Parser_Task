the flow of the program is:

A structure stores the parameters of the packet

a function is called which is taking the struct variable and packet pointer as an argument

first packet is checked for validity 

calculated the checksum 

took the packet between $ and *

stored the missing values

tokenized the packet